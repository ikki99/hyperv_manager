<div class="modal fade" id="createVmWizardModal" tabindex="-1" aria-labelledby="createVmWizardModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="createVmWizardModalLabel">创建新的虚拟机</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Stepper Navigation -->
                <ul class="nav nav-pills nav-fill mb-4" id="pills-tab" role="tablist">
                    <li class="nav-item" role="presentation"><button class="nav-link active" id="step1-tab" data-bs-toggle="pill" data-bs-target="#step1" type="button" role="tab">1. 基本信息</button></li>
                    <li class="nav-item" role="presentation"><button class="nav-link" id="step2-tab" data-bs-toggle="pill" data-bs-target="#step2" type="button" role="tab">2. 硬件</button></li>
                    <li class="nav-item" role="presentation"><button class="nav-link" id="step3-tab" data-bs-toggle="pill" data-bs-target="#step3" type="button" role="tab">3. 硬盘</button></li>
                    <li class="nav-item" role="presentation"><button class="nav-link" id="step4-tab" data-bs-toggle="pill" data-bs-target="#step4" type="button" role="tab">4. 安装</button></li>
                    <li class="nav-item" role="presentation"><button class="nav-link" id="step5-tab" data-bs-toggle="pill" data-bs-target="#step5" type="button" role="tab">5. 摘要</button></li>
                </ul>

                <!-- Stepper Content -->
                <div class="tab-content" id="pills-tabContent">
                    <!-- Step 1: Basic Info -->
                    <div class="tab-pane fade show active" id="step1" role="tabpanel">
                        <div class="mb-3"><label class="form-label">虚拟机名称</label><input type="text" class="form-control" id="wiz-vm-name" required></div>
                        <div class="mb-3"><label class="form-label">存储路径</label><div class="input-group"><input type="text" class="form-control" id="wiz-vm-path" readonly><button class="btn btn-outline-secondary" id="wiz-browse-path">选择...</button></div></div>
                    </div>

                    <!-- Step 2: Hardware -->
                    <div class="tab-pane fade" id="step2" role="tabpanel">
                        <div class="row">
                            <div class="col-md-6 mb-3"><label class="form-label">内存 (MB)</label><input type="number" class="form-control" id="wiz-memory" value="2048"></div>
                            <div class="col-md-6 mb-3"><label class="form-label">CPU 核心数</label><input type="number" class="form-control" id="wiz-cpu" value="2"></div>
                        </div>
                        <div class="mb-3"><label class="form-label">网络</label><select class="form-select" id="wiz-network-switch"></select></div>
                        <div class="form-check"><input class="form-check-input" type="checkbox" id="wiz-secure-boot"><label class="form-check-label" for="wiz-secure-boot">启用安全启动 (建议Windows系统勾选)</label></div>
                    </div>

                    <!-- Step 3: Hard Disk -->
                    <div class="tab-pane fade" id="step3" role="tabpanel">
                        <div class="mb-3"><label class="form-label">虚拟硬盘大小 (GB)</label><input type="number" class="form-control" id="wiz-disk-size" value="60"></div>
                        <div class="form-text">将在您选择的存储路径下创建新的 VHDX 文件。</div>
                    </div>

                    <!-- Step 4: Installation -->
                    <div class="tab-pane fade" id="step4" role="tabpanel">
                        <div class="mb-3"><label class="form-label">安装介质</label><select class="form-select" id="wiz-iso-path"><option value="">稍后安装操作系统</option></select></div>
                    </div>

                    <!-- Step 5: Summary -->
                    <div class="tab-pane fade" id="step5" role="tabpanel">
                        <h5>确认信息</h5>
                        <ul id="wiz-summary-list" class="list-group"></ul>
                        <div id="wiz-creation-status" class="mt-3"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="wiz-prev-btn" style="display: none;">上一步</button>
                <button type="button" class="btn btn-primary" id="wiz-next-btn">下一步</button>
                <button type="button" class="btn btn-success" id="wiz-finish-btn" style="display: none;">完成</button>
            </div>
        </div>
    </div>
</div>
