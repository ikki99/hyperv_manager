# Hyper-V 统一管理器开发计划 (v2)

## 核心理念
- **用户友好**: 为初学者提供清晰的引导和说明。
- **功能强大**: 提供网络端口映射、在线镜像获取等高级功能。
- **模块化**: 每个功能模块（虚拟机、网络、镜像）都应该是高内聚的。

---

### [x] 任务 0: 基础架构增强 (准备工作)
- [x] **任务 0.1: 引入配置系统**
  - 创建一个 `config.json` 文件，用于保存用户的偏好设置，例如默认的虚拟机存储位置、镜像下载目录等。
- [x] **任务 0.2: 建立教程与引导框架**
  - 创建一个可重用的“帮助”组件（例如，带问号图标的按钮），点击后可以显示解释性文本。

### [x] 任务 1: 虚拟机列表增强
- [x] **任务 1.1: 获取更详细的虚拟机信息**
  - 修改 `powershell_utils.py` 以额外获取：操作系统、IP地址、更多资源使用情况 (研究 `Measure-VM`)。
- [x] **任务 1.2: 更新UI**
  - 在虚拟机列表 `DataTable` 中增加新列。
  - 在右侧选择面板中以卡片形式展示所有详细信息。

### [x] 任务 2: 高级网络管理
- [x] **任务 2.1: 虚拟交换机管理 (基础)**
  - 实现虚拟交换机的增、删、查功能。
- [x] **任务 2.2: 实现创建新的虚拟交换机**
- [x] **任务 2.3: 实现端口映射 (NAT)**
  - **UI**: 为NAT交换机提供端口映射管理界面。
  - **后台**: 增加 `add/get/remove` NAT 规则的函数。
  - **引导**: 引导用户创建NAT交换机。

### [x] 任务 3: 全能系统镜像中心
- [x] **任务 3.1: 在线镜像仓库**
  - 定义并读取一个在线的 `repository.json` 文件来展示可下载的系统镜像。
- [x] **任务 3.2: 下载管理器**
  - **后台**: 实现后台下载，支持断点续传。
  - **UI**: 提供下载任务列表、进度条和控制按钮（暂停/继续/取消）。
- [x] **任务 3.3: 本地镜像管理**
  - 扫描并管理用户指定的本地镜像目录。

### [x] 任务 4: 向导式虚拟机创建
- [x] **任务 4.1: 设计并实现分步向导UI**
- [ ] **任务 4.2: 集成网络选择功能**
- [ ] **任务 4.3: 集成系统镜像选择功能 (本地与在线)**
- [ ] **任务 4.4: 在关键步骤增加“帮助”引导**
- [x] **任务 4.5: 实现核心创建逻辑 (`New-VM` 及相关命令)**
